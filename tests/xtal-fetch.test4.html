<!DOCTYPE html>
<html>

<head>
    <title>Xtal Fetch Test 4</title>
    <link async rel="import" href="../bower_components/xtal-fetch/xtal-fetch.html" />
 

</head>

<body>
    <!-- <dom-module id="my-container">
        <template>
            <xtal-fetch fetch href="sampleHTMLFragment.html" result="{{myResult}}"></xtal-fetch>
            <my-component my-prop="[[myResult]]"></my-component>
        </template>
    </dom-module> -->

    <script>
        function initMyComponents() {
            //class MyComponent extends Polymer.Element {
            class MyComponent extends Polymer.ElementMixin(HTMLElement) {
                set myProp(val){
                    debugger;
                    this.innerHTML = val;
                }
                static get is(){return 'my-component';}
                // static get properties(){
                //     return {
                //         myProp: {
                //             type: Object,
                //             observer: 'onMyPropChange'
                //         }
                //     }
                // }
                // onMyPropChange(){
                //     debugger;
                //     this.innerHTML = this.myProp;
                // }
            }
            customElements.define(MyComponent.is, MyComponent);
            class MyContainer extends Polymer.ElementMixin(HTMLElement) {
                static get is(){return 'my-container';}
                  static get template() {
                    return `
                        <xtal-fetch fetch href="sampleHTMLFragment.html" result="{{myResult}}"></xtal-fetch>
                        <my-component my-prop="[[myResult]]"></my-component>
                    `;
  }
                
            }
            customElements.define(MyContainer.is, MyContainer);
        }
        customElements.whenDefined('xtal-fetch').then(() => initMyComponents());
</script>
    <my-container></my-container>
</body>

</html>