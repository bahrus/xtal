<link rel="import" href="../bower_components/polymer/polymer-element.html">

<dom-module id="xtal-browser-window">
    <template>
        
        Hrllo
    </template>
    <!--<script src="xtal-browser-window.js"></script>-->
    <script>
        class XtalBrowserWindow extends Polymer.Element {
            static get is() { return 'xtal-browser-window'; }
            // static get config() {
            //     return {
            //         properties: {
            //             linkOnly: {
            //                 type: Boolean
            //             },
            //             sandBox: {
            //                 type: String
            //             },
            //             windowTop: {
            //                 type: Number
            //             },
            //             width: {
            //                 type: String,
            //                 value: '90%'
            //             },
            //             collapsedText: {
            //                 type: String,
            //                 value: '►'
            //             },
            //             clicked: {
            //                 type: Boolean,
            //                 notify: true,
            //                 reflectToAttribute: true,
            //             }
            //         }
            //     };
            // }
            constructor() {
                super();
                this.collapsedText = 'i am here';
            }
            connectedCallback() {
                super.connectedCallback();
            }
            ready(){
                super.ready();
            }
            markClicked() {
                this.clicked = true;
            }
            toggleIFrame() {
                this.clicked = true;
                var aLink;
                //debugger;
                // if(Polymer.Settings.useShadow){
                //     aLink = this.getEffectiveChildNodes()[1];
                // }else{
                //     aLink = this.children[1];
                // }
                if (this.linkOnly) {
                    window.open(aLink.href);
                    return;
                }
                // var iFrame = this.$.iframe;
                // var toggleButton = this.$.toggle_button;
                // var divIFrame = this.$.div_iframe;
                // var div_noFrame = this.$.div_noFrame;
                // if(divIFrame.style.display ==='none'){
                //     divIFrame.style.display = 'block';
                //     div_noFrame.style.display = 'none';
                //     iFrame.src = aLink.href;
                //     toggleButton.innerText = '▼';
                // }else{
                //     iFrame.src='about:blank';
                //     divIFrame.style.display = 'none';
                //     div_noFrame.style.display = 'block';
                //     toggleButton.innerText = this.collapsedText;
                // }
            }
            ready() {
                // var aLink = this.children[0];
                // aLink.target = '_blank';
                // if(this.sandBox){
                //     var iFrame = this.$.iframe;
                //     iFrame.setAttribute('sandbox', this.sandBox);
                // }
                //toggleButton.innerText = '▼';
            }
            handleOnLoad() {
                //this.$.iframe.contentWindow.scrollTo(0, 1000);
                //this.$.div_iframe.scrollTop = this.windowTop;
            }
        }
        customElements.define(XtalBrowserWindow.is, XtalBrowserWindow);
    </script>
</dom-module>